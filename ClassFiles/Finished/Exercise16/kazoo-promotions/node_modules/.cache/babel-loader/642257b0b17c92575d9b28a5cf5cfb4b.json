{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\drew\\\\source\\\\repos\\\\Courseware\\\\ReactFundamentals\\\\ClassFiles\\\\Finished\\\\Exercise16\\\\kazoo-promotions\\\\src\\\\formBuilder.js\";\nimport React from 'react';\nimport Input from './components/Forms/Input';\nvar formBuilder = {\n  configInput: function configInput(kind, type, label, placeholder) {\n    var validation = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n    var value = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : '';\n    var settings = {\n      kind: kind,\n      label: label,\n      value: value,\n      validation: validation,\n      attrs: {}\n    };\n\n    if (typeof type !== 'undefined') {\n      settings.attrs.type = type;\n    }\n\n    if (placeholder !== null && typeof placeholder !== 'undefined') {\n      settings.attrs.placeholder = placeholder;\n    } else {\n      settings.attrs.placeholder = 'enter ' + label.toLowerCase();\n    }\n\n    return settings;\n  },\n  buildForm: function buildForm(settings, handler) {\n    var elements = [];\n\n    for (var key in settings) {\n      elements.push({\n        id: key,\n        config: settings[key]\n      });\n    }\n\n    var content = elements.map(function (elem) {\n      return React.createElement(Input, {\n        key: elem.id,\n        label: elem.config.label,\n        kind: elem.config.kind,\n        value: elem.config.value,\n        attrs: elem.config.attrs,\n        valid: elem.config.valid,\n        errors: elem.config.errors,\n        changed: function changed(event) {\n          return handler(event, elem.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      });\n    });\n    return content;\n  },\n  checkValidity: function checkValidity(inputConfig) {\n    inputConfig.valid = true;\n    inputConfig.errors = {};\n\n    if (inputConfig.validation.required) {\n      if (inputConfig.value.trim() === '') {\n        inputConfig.valid = false;\n        inputConfig.errors.required = \"You must enter a value for \".concat(inputConfig.label);\n      }\n    }\n\n    if (inputConfig.validation.minLength) {\n      if (inputConfig.value.trim().length < inputConfig.validation.minLength) {\n        inputConfig.valid = false;\n        inputConfig.errors.minLength = \"\".concat(inputConfig.label, \" must be at least \").concat(inputConfig.validation.minLength, \" characters\");\n      }\n    }\n\n    if (inputConfig.attrs.type === 'email' && inputConfig.value) {\n      var re = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+(?:[A-Z]{2}|com|org|net|gov|mil|biz|info|mobi|name|aero|jobs|museum)\\b/;\n\n      if (!re.test(inputConfig.value.toLowerCase())) {\n        inputConfig.valid = false;\n        inputConfig.errors.email = \"\".concat(inputConfig.label, \" must be a valid email address\");\n      }\n    }\n\n    if (inputConfig.validation.minValue && inputConfig.attrs.type === 'number') {\n      var threshold = +inputConfig.validation.minValue;\n      var value = +inputConfig.value;\n\n      if (value < threshold) {\n        inputConfig.valid = false;\n        inputConfig.errors.minValue = \"\".concat(inputConfig.label, \" must be no less than \").concat(inputConfig.validation.minValue);\n      }\n    }\n\n    if (inputConfig.validation.minValue && inputConfig.attrs.type === 'date') {\n      var _threshold = new Date(inputConfig.validation.minValue);\n\n      var _value = new Date(inputConfig.value);\n\n      if (_value < _threshold) {\n        inputConfig.valid = false;\n        inputConfig.errors.minValue = \"\".concat(inputConfig.label, \" must be no less than \").concat(_threshold.toDateString());\n      }\n    }\n  },\n  validateForm: function validateForm(form) {\n    var hasError = false;\n\n    for (var elt in form) {\n      this.checkValidity(form[elt]);\n\n      if (!form[elt].valid) {\n        hasError = true;\n      }\n    }\n\n    return !hasError;\n  }\n};\nexport default formBuilder;","map":{"version":3,"sources":["C:\\Users\\drew\\source\\repos\\Courseware\\ReactFundamentals\\ClassFiles\\Finished\\Exercise16\\kazoo-promotions\\src\\formBuilder.js"],"names":["React","Input","formBuilder","configInput","kind","type","label","placeholder","validation","value","settings","attrs","toLowerCase","buildForm","handler","elements","key","push","id","config","content","map","elem","valid","errors","event","checkValidity","inputConfig","required","trim","minLength","length","re","test","email","minValue","threshold","Date","toDateString","validateForm","form","hasError","elt"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Input from './components/Forms/Input';\r\n\r\nconst formBuilder = {\r\n\tconfigInput(kind, type, label, placeholder, validation={}, value='') {\r\n\t\tconst settings = {\r\n\t\t\tkind,\r\n\t\t\tlabel,\r\n\t\t\tvalue,\r\n\t\t\tvalidation,\r\n\t\t\tattrs: {}\r\n\t\t}\r\n\t\t\r\n\t\tif (typeof type !== 'undefined') {\r\n\t\t\tsettings.attrs.type = type;\r\n\t\t}\r\n\t\tif (placeholder !== null && typeof placeholder !== 'undefined') {\r\n\t\t\tsettings.attrs.placeholder = placeholder;\r\n\t\t} else {\r\n\t\t\tsettings.attrs.placeholder = 'enter ' + label.toLowerCase();\r\n\t\t}\r\n\r\n\t\treturn settings;\r\n\t},\r\n\r\n\tbuildForm(settings, handler) {\r\n\t\tconst elements = [];\r\n\t\tfor (let key in settings) {\r\n\t\t\telements.push({\r\n\t\t\t\tid: key,\r\n\t\t\t\tconfig: settings[key]\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tconst content = elements.map(elem => (\r\n\t\t\t<Input key={elem.id}\r\n\t\t\t\tlabel={elem.config.label}\r\n\t\t\t\tkind={elem.config.kind}\r\n\t\t\t\tvalue={elem.config.value}\r\n\t\t\t\tattrs = {elem.config.attrs}\r\n\t\t\t\tvalid = {elem.config.valid}\r\n\t\t\t\terrors = {elem.config.errors}\r\n\t\t\t\tchanged={(event) => handler(event, elem.id)}\r\n\t\t\t\t />\r\n\t\t));\r\n\r\n\t\treturn content;\r\n\t},\r\n\r\n\tcheckValidity(inputConfig) {\r\n\t\tinputConfig.valid = true;\r\n\t\tinputConfig.errors = {};\r\n\r\n\t\tif (inputConfig.validation.required) {\r\n\t\t\tif (inputConfig.value.trim() === '') {\r\n\t\t\t\tinputConfig.valid = false;\r\n\t\t\t\tinputConfig.errors.required = `You must enter a value for ${inputConfig.label}`;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (inputConfig.validation.minLength) {\r\n\t\t\tif (inputConfig.value.trim().length < inputConfig.validation.minLength) {\r\n\t\t\t\tinputConfig.valid = false;\r\n\t\t\t\tinputConfig.errors.minLength = `${inputConfig.label} must be at least ${inputConfig.validation.minLength} characters`;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (inputConfig.attrs.type === 'email' && inputConfig.value) {\r\n\t\t\tlet re = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+(?:[A-Z]{2}|com|org|net|gov|mil|biz|info|mobi|name|aero|jobs|museum)\\b/;\r\n\t\t\tif (!re.test(inputConfig.value.toLowerCase())) {\r\n\t\t\t\tinputConfig.valid = false;\r\n\t\t\t\tinputConfig.errors.email = `${inputConfig.label} must be a valid email address`;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (inputConfig.validation.minValue && inputConfig.attrs.type === 'number') {\r\n\t\t\tlet threshold = +(inputConfig.validation.minValue);\r\n\t\t\tlet value = +(inputConfig.value);\r\n\t\t\tif (value < threshold) {\r\n\t\t\t\tinputConfig.valid = false;\r\n\t\t\t\tinputConfig.errors.minValue = `${inputConfig.label} must be no less than ${inputConfig.validation.minValue}`;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (inputConfig.validation.minValue && inputConfig.attrs.type === 'date') {\r\n\t\t\tlet threshold = new Date(inputConfig.validation.minValue);\r\n\t\t\tlet value = new Date(inputConfig.value);\r\n\t\t\tif (value < threshold) {\r\n\t\t\t\tinputConfig.valid = false;\r\n\t\t\t\tinputConfig.errors.minValue = `${inputConfig.label} must be no less than ${threshold.toDateString()}`;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tvalidateForm(form) {\r\n\t\tlet hasError = false;\r\n\t\tfor (let elt in form) {\r\n\t\t  this.checkValidity(form[elt]);\r\n\t\t  if (!form[elt].valid) {\r\n\t\t    hasError = true;\r\n\t\t  }\r\n\t\t}\r\n\t\treturn !hasError;\r\n\t}\r\n\r\n};\r\n\r\nexport default formBuilder;\r\n"]},"metadata":{},"sourceType":"module"}