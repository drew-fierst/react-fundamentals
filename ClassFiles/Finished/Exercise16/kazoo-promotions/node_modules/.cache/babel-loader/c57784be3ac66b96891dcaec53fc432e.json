{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\drew\\\\source\\\\repos\\\\Courseware\\\\ReactFundamentals\\\\ClassFiles\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"C:\\\\Users\\\\drew\\\\source\\\\repos\\\\Courseware\\\\ReactFundamentals\\\\ClassFiles\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"C:\\\\Users\\\\drew\\\\source\\\\repos\\\\Courseware\\\\ReactFundamentals\\\\ClassFiles\\\\Finished\\\\Exercise16\\\\kazoo-promotions\\\\src\\\\containers\\\\Board\\\\BoardMembers.js\";\nimport React, { useState, useEffect, useReducer } from 'react';\nimport BoardMember from '../../components/Board/BoardMember';\nimport styles from './BoardMembers.module.css';\nimport ErrorBoundary from '../../ErrorBoundary';\nimport customAxios from '../../axios';\nimport { toast } from 'react-toastify';\nimport { Transition } from 'react-transition-group';\nimport BusySpinner from '../../components/UI/BusySpinner';\n\nvar memberReducer = function memberReducer(state, action) {\n  switch (action.type) {\n    case 'SET':\n      return _objectSpread({}, state, {\n        members: action.payload\n      });\n\n    case 'TOGGLE':\n      return _objectSpread({}, state, {\n        showMembers: !state.showMembers\n      });\n\n    default:\n      return state;\n  }\n};\n\nvar httpReducer = function httpReducer(httpState, action) {\n  switch (action.type) {\n    case 'SENT':\n      return {\n        loading: true,\n        error: null\n      };\n\n    case 'RESPONSE':\n      return _objectSpread({}, httpState, {\n        loading: false\n      });\n\n    case 'ERROR':\n      return {\n        loading: false,\n        error: action.payload\n      };\n\n    default:\n      return httpState;\n  }\n};\n\nvar BoardMembers = function BoardMembers() {\n  // const [members, setMembers] = useState([]);\n  var _useReducer = useReducer(memberReducer, {\n    members: [],\n    show: false\n  }),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var _useReducer3 = useReducer(httpReducer, {\n    loading: false,\n    error: null\n  }),\n      _useReducer4 = _slicedToArray(_useReducer3, 2),\n      httpState = _useReducer4[0],\n      dispatchHttp = _useReducer4[1];\n\n  useEffect(function () {\n    if (state.showMembers && !state.members.length) {\n      dispatchHttp({\n        type: 'SENT'\n      });\n      customAxios.get('/boardmembers').then(function (resp) {\n        // setMembers(resp.data);\n        dispatchHttp({\n          type: 'RESPONSE'\n        });\n        dispatch({\n          type: 'SET',\n          payload: resp.data\n        });\n        toast.success('Board members loaded');\n      }).catch(function (err) {\n        // toast.error(err.message);\n        dispatchHttp({\n          type: 'ERROR',\n          payload: err.message\n        });\n      });\n    }\n  }, [state]);\n\n  var toggleShowMembers = function toggleShowMembers() {\n    // setShowMembers(prevShow => !prevShow);\n    dispatch({\n      type: 'TOGGLE'\n    });\n  };\n\n  var memberContent = state.members.map(function (member) {\n    return React.createElement(ErrorBoundary, {\n      key: member.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(BoardMember, {\n      firstName: member.firstName,\n      lastName: member.lastName,\n      title: member.title,\n      photo: member.photo,\n      bio: member.bio,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }));\n  });\n  return React.createElement(\"div\", {\n    className: styles.wrapper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"Kazoo Promotions. \", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"Board of Directors\"), httpState.loading && React.createElement(BusySpinner, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  })), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: styles.button,\n    onClick: toggleShowMembers,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"Toggle Members\")), httpState.error && React.createElement(\"div\", {\n    class: \"danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, httpState.error), React.createElement(Transition, {\n    in: state.showMembers,\n    timeout: 800,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, function (state) {\n    return React.createElement(\"div\", {\n      style: {\n        overflow: 'hidden',\n        transition: 'all 0.8s ease',\n        maxHeight: state === 'exited' ? '0px' : '2000px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, memberContent);\n  }));\n};\n\nexport default BoardMembers;","map":{"version":3,"sources":["C:\\Users\\drew\\source\\repos\\Courseware\\ReactFundamentals\\ClassFiles\\Finished\\Exercise16\\kazoo-promotions\\src\\containers\\Board\\BoardMembers.js"],"names":["React","useState","useEffect","useReducer","BoardMember","styles","ErrorBoundary","customAxios","toast","Transition","BusySpinner","memberReducer","state","action","type","members","payload","showMembers","httpReducer","httpState","loading","error","BoardMembers","show","dispatch","dispatchHttp","length","get","then","resp","data","success","catch","err","message","toggleShowMembers","memberContent","map","member","id","firstName","lastName","title","photo","bio","wrapper","button","overflow","transition","maxHeight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useReducer } from 'react';\r\nimport BoardMember from '../../components/Board/BoardMember';\r\nimport styles from './BoardMembers.module.css';\r\nimport ErrorBoundary from '../../ErrorBoundary';\r\nimport customAxios from '../../axios';\r\nimport { toast } from 'react-toastify';\r\nimport { Transition } from 'react-transition-group';\r\nimport BusySpinner from '../../components/UI/BusySpinner';\r\n\r\nconst memberReducer = (state, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'SET':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmembers: action.payload\r\n\t\t\t}\r\n\t\tcase 'TOGGLE':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tshowMembers: !state.showMembers\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nconst httpReducer = (httpState, action) => {\r\n    switch (action.type) {\r\n        case 'SENT':\r\n            return { loading: true, error: null };\r\n        case 'RESPONSE':\r\n            return { ...httpState, loading: false };\r\n        case 'ERROR':\r\n            return { loading: false, error: action.payload };\r\n        default:\r\n            return httpState;\r\n    }\r\n};\r\n\r\nconst BoardMembers = () => {\r\n\r\n\t// const [members, setMembers] = useState([]);\r\n\t// const [showMembers, setShowMembers] = useState(false);\r\n\tconst [state, dispatch] = useReducer(memberReducer, { members: [], show: false});\r\n\tconst [httpState, dispatchHttp] = useReducer(httpReducer, { loading: false, error: null });\r\n\r\n\tuseEffect(() => {\r\n\t\tif (state.showMembers && !state.members.length) {\r\n\t\t\tdispatchHttp({type: 'SENT'});\r\n\t\t\tcustomAxios.get('/boardmembers')\r\n\t\t\t\t.then(resp => {\r\n\t\t\t\t\t// setMembers(resp.data);\r\n\t\t\t\t\tdispatchHttp({type: 'RESPONSE'});\r\n\t\t\t\t\tdispatch({type: 'SET', payload: resp.data})\r\n\t\t\t\t\ttoast.success('Board members loaded');\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\t// toast.error(err.message);\r\n\t\t\t\t\tdispatchHttp({type: 'ERROR', payload: err.message});\r\n\t\t\t\t});\r\n\t\t}\r\n\t}, [state]);\r\n\r\n\tconst toggleShowMembers = () => {\r\n\t\t// setShowMembers(prevShow => !prevShow);\r\n\t\tdispatch({ type: 'TOGGLE' })\r\n\t};\r\n\r\n\r\n\tconst memberContent = state.members.map(member => {\r\n\t\treturn <ErrorBoundary key={member.id} ><BoardMember \r\n\t\t\t\t\tfirstName={member.firstName}\r\n\t\t\t\t\tlastName={member.lastName}\r\n\t\t\t\t\ttitle={member.title}\r\n\t\t\t\t\tphoto={member.photo}\r\n\t\t\t\t\tbio={member.bio}\r\n\t\t\t\t\t/></ErrorBoundary >\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div className={styles.wrapper}>\r\n\t\t\t<h1>\r\n\t\t\t\tKazoo Promotions. <span>Board of Directors</span>\r\n\t\t\t\t{httpState.loading && <BusySpinner></BusySpinner>}\r\n\t\t\t</h1>\r\n\t\t\t<p><button className={styles.button} onClick={toggleShowMembers}>Toggle Members</button></p>\r\n\t\t\t{httpState.error && <div class=\"danger\">{httpState.error}</div>}\r\n\t\t\t<Transition in={state.showMembers} timeout={800}>\r\n\t\t\t\t{state => <div style={{\r\n\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\ttransition: 'all 0.8s ease',\r\n\t\t\t\t\tmaxHeight: state === 'exited' ? '0px' : '2000px'\r\n\t\t\t\t}}>{memberContent}</div>}\r\n\t\t\t</Transition>\r\n\t\t</div>\r\n\t);\r\n\t\r\n}\r\n\r\nexport default BoardMembers;\r\n"]},"metadata":{},"sourceType":"module"}